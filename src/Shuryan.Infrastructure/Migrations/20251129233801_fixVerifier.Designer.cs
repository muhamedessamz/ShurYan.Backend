// <auto-generated />
using System;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Metadata;
using Microsoft.EntityFrameworkCore.Migrations;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;
using Shuryan.Infrastructure.Data;

#nullable disable

namespace Shuryan.Infrastructure.Migrations
{
    [DbContext(typeof(ShuryanDbContext))]
    [Migration("20251129233801_fixVerifier")]
    partial class fixVerifier
    {
        /// <inheritdoc />
        protected override void BuildTargetModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder
                .HasAnnotation("ProductVersion", "8.0.20")
                .HasAnnotation("Relational:MaxIdentifierLength", 128);

            SqlServerModelBuilderExtensions.UseIdentityColumns(modelBuilder);

            modelBuilder.Entity("Microsoft.AspNetCore.Identity.IdentityRoleClaim<System.Guid>", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("ClaimType")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("ClaimValue")
                        .HasColumnType("nvarchar(max)");

                    b.Property<Guid>("RoleId")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("RoleId");

                    b.ToTable("AspNetRoleClaims", (string)null);
                });

            modelBuilder.Entity("Microsoft.AspNetCore.Identity.IdentityUserClaim<System.Guid>", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<string>("ClaimType")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("ClaimValue")
                        .HasColumnType("nvarchar(max)");

                    b.Property<Guid>("UserId")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("UserId");

                    b.ToTable("AspNetUserClaims", (string)null);
                });

            modelBuilder.Entity("Microsoft.AspNetCore.Identity.IdentityUserLogin<System.Guid>", b =>
                {
                    b.Property<string>("LoginProvider")
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("ProviderKey")
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("ProviderDisplayName")
                        .HasColumnType("nvarchar(max)");

                    b.Property<Guid>("UserId")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("LoginProvider", "ProviderKey");

                    b.HasIndex("UserId");

                    b.ToTable("AspNetUserLogins", (string)null);
                });

            modelBuilder.Entity("Microsoft.AspNetCore.Identity.IdentityUserRole<System.Guid>", b =>
                {
                    b.Property<Guid>("UserId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("RoleId")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("UserId", "RoleId");

                    b.HasIndex("RoleId");

                    b.ToTable("AspNetUserRoles", (string)null);
                });

            modelBuilder.Entity("Microsoft.AspNetCore.Identity.IdentityUserToken<System.Guid>", b =>
                {
                    b.Property<Guid>("UserId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("LoginProvider")
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("Name")
                        .HasColumnType("nvarchar(450)");

                    b.Property<string>("Value")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("UserId", "LoginProvider", "Name");

                    b.ToTable("AspNetUserTokens", (string)null);
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Common.DoctorDocument", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("DoctorId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("DocumentUrl")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<string>("RejectionReason")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<int>("Status")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(1);

                    b.Property<int>("Type")
                        .HasColumnType("int");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("UpdatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("DoctorId")
                        .HasDatabaseName("IX_DoctorDocument_DoctorId");

                    b.HasIndex("Status")
                        .HasDatabaseName("IX_DoctorDocument_Status");

                    b.HasIndex("DoctorId", "Type")
                        .HasDatabaseName("IX_DoctorDocument_Doctor_Type");

                    b.ToTable("DoctorDocuments", (string)null);
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Clinic.Clinic", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("AddressId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<int>("ClinicStatus")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(1);

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("DoctorId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("FacilityVideoUrl")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("UpdatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("AddressId")
                        .IsUnique()
                        .HasDatabaseName("IX_Clinic_AddressId");

                    b.HasIndex("ClinicStatus")
                        .HasDatabaseName("IX_Clinic_Status");

                    b.HasIndex("DoctorId")
                        .IsUnique()
                        .HasDatabaseName("IX_Clinic_DoctorId");

                    b.ToTable("Clinics", (string)null);
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Clinic.ClinicPhoneNumber", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("ClinicId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Number")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<int>("Type")
                        .HasColumnType("int");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("UpdatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("ClinicId")
                        .HasDatabaseName("IX_ClinicPhoneNumber_ClinicId");

                    b.HasIndex("ClinicId", "Number")
                        .IsUnique()
                        .HasDatabaseName("IX_ClinicPhoneNumber_Clinic_Number");

                    b.HasIndex("ClinicId", "Type")
                        .HasDatabaseName("IX_ClinicPhoneNumber_Clinic_Type");

                    b.ToTable("ClinicPhoneNumbers", (string)null);
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Clinic.ClinicPhoto", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("ClinicId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<int>("DisplayOrder")
                        .HasColumnType("int");

                    b.Property<string>("PhotoUrl")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("UpdatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("ClinicId")
                        .HasDatabaseName("IX_ClinicPhoto_ClinicId");

                    b.HasIndex("ClinicId", "DisplayOrder")
                        .IsUnique()
                        .HasDatabaseName("IX_ClinicPhoto_Clinic_Order");

                    b.ToTable("ClinicPhotos", null, t =>
                        {
                            t.HasCheckConstraint("CK_ClinicPhoto_DisplayOrder", "[DisplayOrder] >= 0 AND [DisplayOrder] <= 5");
                        });
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Clinic.ClinicService", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("ClinicId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<int>("ServiceType")
                        .HasColumnType("int");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("UpdatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("ClinicId")
                        .HasDatabaseName("IX_ClinicService_ClinicId");

                    b.HasIndex("ServiceType")
                        .HasDatabaseName("IX_ClinicService_ServiceType");

                    b.HasIndex("ClinicId", "ServiceType")
                        .IsUnique()
                        .HasDatabaseName("IX_ClinicService_Clinic_Service");

                    b.ToTable("ClinicServices", (string)null);
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Laboratories.LabOrder", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("CancellationReason")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<DateTime?>("CancelledAt")
                        .HasColumnType("datetime2");

                    b.Property<DateTime?>("ConfirmedByLabAt")
                        .HasColumnType("datetime2");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("LabPrescriptionId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("LaboratoryId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime?>("PaidAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid>("PatientId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime?>("RejectedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("RejectionReason")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<decimal>("SampleCollectionDeliveryCost")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(10, 2)
                        .HasColumnType("decimal(10,2)")
                        .HasDefaultValue(0m);

                    b.Property<int>("SampleCollectionType")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(1);

                    b.Property<DateTime?>("SamplesCollectedAt")
                        .HasColumnType("datetime2");

                    b.Property<int>("Status")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(1);

                    b.Property<decimal>("TestsTotalCost")
                        .HasPrecision(10, 2)
                        .HasColumnType("decimal(10,2)");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("UpdatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("LabPrescriptionId")
                        .IsUnique()
                        .HasDatabaseName("IX_LabOrder_LabPrescriptionId");

                    b.HasIndex("LaboratoryId")
                        .HasDatabaseName("IX_LabOrder_LaboratoryId");

                    b.HasIndex("PatientId")
                        .HasDatabaseName("IX_LabOrder_PatientId");

                    b.HasIndex("Status")
                        .HasDatabaseName("IX_LabOrder_Status");

                    b.HasIndex("LaboratoryId", "Status")
                        .HasDatabaseName("IX_LabOrder_Laboratory_Status");

                    b.HasIndex("PatientId", "Status")
                        .HasDatabaseName("IX_LabOrder_Patient_Status");

                    b.ToTable("LabOrders", null, t =>
                        {
                            t.HasCheckConstraint("CK_LabOrder_Costs", "[TestsTotalCost] >= 0 AND [SampleCollectionDeliveryCost] >= 0");
                        });
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Laboratories.LabPrescription", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("AppointmentId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("DoctorId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("GeneralNotes")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<Guid>("PatientId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("UpdatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("AppointmentId")
                        .IsUnique()
                        .HasDatabaseName("IX_LabPrescription_AppointmentId");

                    b.HasIndex("DoctorId")
                        .HasDatabaseName("IX_LabPrescription_DoctorId");

                    b.HasIndex("PatientId")
                        .HasDatabaseName("IX_LabPrescription_PatientId");

                    b.ToTable("LabPrescriptions", (string)null);
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Laboratories.LabPrescriptionItem", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("DoctorNotes")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<Guid>("LabPrescriptionId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("LabTestId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("UpdatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("LabPrescriptionId")
                        .HasDatabaseName("IX_LabPrescriptionItem_LabPrescriptionId");

                    b.HasIndex("LabTestId")
                        .HasDatabaseName("IX_LabPrescriptionItem_LabTestId");

                    b.HasIndex("LabPrescriptionId", "LabTestId")
                        .IsUnique()
                        .HasDatabaseName("IX_LabPrescriptionItem_Prescription_Test");

                    b.ToTable("LabPrescriptionItems", (string)null);
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Laboratories.LabResult", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("AttachmentUrl")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("LabOrderId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("LabTestId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Notes")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<string>("ReferenceRange")
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<string>("ResultValue")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<string>("Unit")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("UpdatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("LabOrderId")
                        .HasDatabaseName("IX_LabResult_LabOrderId");

                    b.HasIndex("LabTestId")
                        .HasDatabaseName("IX_LabResult_LabTestId");

                    b.HasIndex("LabOrderId", "LabTestId")
                        .IsUnique()
                        .HasDatabaseName("IX_LabResult_Order_Test");

                    b.ToTable("LabResults", (string)null);
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Laboratories.LabService", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<bool>("IsAvailable")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<string>("LabSpecificNotes")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<Guid>("LabTestId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("LaboratoryId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<decimal>("Price")
                        .HasPrecision(10, 2)
                        .HasColumnType("decimal(10,2)");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("UpdatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("LabTestId")
                        .HasDatabaseName("IX_LabService_LabTestId");

                    b.HasIndex("LaboratoryId")
                        .HasDatabaseName("IX_LabService_LaboratoryId");

                    b.HasIndex("LaboratoryId", "IsAvailable")
                        .HasDatabaseName("IX_LabService_Laboratory_Available");

                    b.HasIndex("LaboratoryId", "LabTestId")
                        .IsUnique()
                        .HasDatabaseName("IX_LabService_Laboratory_Test");

                    b.ToTable("LabServices", null, t =>
                        {
                            t.HasCheckConstraint("CK_LabService_Price", "[Price] >= 0");
                        });
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Laboratories.LabTest", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<int>("Category")
                        .HasColumnType("int");

                    b.Property<string>("Code")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<string>("SpecialInstructions")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("UpdatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("Category")
                        .HasDatabaseName("IX_LabTest_Category");

                    b.HasIndex("Code")
                        .IsUnique()
                        .HasDatabaseName("IX_LabTest_Code");

                    b.HasIndex("Name")
                        .HasDatabaseName("IX_LabTest_Name");

                    b.ToTable("LabTests", (string)null);
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Laboratories.LabWorkingHours", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<int>("Day")
                        .HasColumnType("int");

                    b.Property<TimeOnly>("EndTime")
                        .HasColumnType("time");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<Guid>("LaboratoryId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<TimeOnly>("StartTime")
                        .HasColumnType("time");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("UpdatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("LaboratoryId")
                        .HasDatabaseName("IX_LabWorkingHours_LaboratoryId");

                    b.HasIndex("LaboratoryId", "Day")
                        .HasDatabaseName("IX_LabWorkingHours_Laboratory_Day");

                    b.HasIndex("LaboratoryId", "Day", "StartTime", "EndTime")
                        .IsUnique()
                        .HasDatabaseName("IX_LabWorkingHours_Unique");

                    b.ToTable("LabWorkingHours", null, t =>
                        {
                            t.HasCheckConstraint("CK_LaboratoryWorkingHours_Time", "[StartTime] < [EndTime]");
                        });
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Payments.Payment", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<decimal>("Amount")
                        .HasColumnType("decimal(18,2)");

                    b.Property<DateTime?>("CompletedAt")
                        .HasColumnType("datetime2");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<string>("Currency")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(3)
                        .HasColumnType("nvarchar(3)")
                        .HasDefaultValue("EGP");

                    b.Property<DateTime?>("FailedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("FailureReason")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<string>("IpAddress")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<string>("Notes")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<Guid>("OrderId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("OrderType")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<int>("PaymentMethod")
                        .HasColumnType("int");

                    b.Property<int?>("Provider")
                        .HasColumnType("int");

                    b.Property<string>("ProviderResponse")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<string>("ProviderTransactionId")
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<string>("RefundReason")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<decimal?>("RefundedAmount")
                        .HasColumnType("decimal(18,2)");

                    b.Property<DateTime?>("RefundedAt")
                        .HasColumnType("datetime2");

                    b.Property<int>("Status")
                        .HasColumnType("int");

                    b.Property<Guid>("UserId")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("CreatedAt");

                    b.HasIndex("ProviderTransactionId");

                    b.HasIndex("Status");

                    b.HasIndex("UserId");

                    b.HasIndex("OrderType", "OrderId");

                    b.ToTable("Payments", (string)null);
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Payments.PaymentTransaction", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<decimal>("Amount")
                        .HasColumnType("decimal(18,2)");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<string>("ErrorCode")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("ErrorMessage")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<string>("Metadata")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<Guid>("PaymentId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime?>("ProcessedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("ProviderResponse")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<string>("ProviderTransactionId")
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<int>("Status")
                        .HasColumnType("int");

                    b.Property<string>("TransactionType")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.HasKey("Id");

                    b.HasIndex("CreatedAt");

                    b.HasIndex("PaymentId");

                    b.HasIndex("ProviderTransactionId");

                    b.ToTable("PaymentTransactions", (string)null);
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Pharmacies.DispensedMedicationItem", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("DispensingRecordId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("MedicationId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<int>("QuantityDispensed")
                        .HasColumnType("int");

                    b.Property<decimal>("TotalPrice")
                        .HasPrecision(10, 2)
                        .HasColumnType("decimal(10,2)");

                    b.Property<decimal>("UnitPrice")
                        .HasPrecision(10, 2)
                        .HasColumnType("decimal(10,2)");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("UpdatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("DispensingRecordId")
                        .HasDatabaseName("IX_DispensedMedicationItem_DispensingRecordId");

                    b.HasIndex("MedicationId")
                        .HasDatabaseName("IX_DispensedMedicationItem_MedicationId");

                    b.HasIndex("DispensingRecordId", "MedicationId")
                        .HasDatabaseName("IX_DispensedMedicationItem_Record_Medication");

                    b.ToTable("DispensedMedicationItems", null, t =>
                        {
                            t.HasCheckConstraint("CK_DispensedMedicationItem_Prices", "[UnitPrice] >= 0 AND [TotalPrice] >= 0");

                            t.HasCheckConstraint("CK_DispensedMedicationItem_Quantity", "[QuantityDispensed] > 0");
                        });
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Pharmacies.DispensingRecord", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("DispensedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Notes")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<Guid>("PatientId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("PaymentMethod")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<Guid>("PharmacyId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("PrescriptionId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("ReceiptNumber")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<decimal>("TotalCost")
                        .HasPrecision(10, 2)
                        .HasColumnType("decimal(10,2)");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("UpdatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("PatientId")
                        .HasDatabaseName("IX_DispensingRecord_PatientId");

                    b.HasIndex("PharmacyId")
                        .HasDatabaseName("IX_DispensingRecord_PharmacyId");

                    b.HasIndex("PrescriptionId")
                        .HasDatabaseName("IX_DispensingRecord_PrescriptionId");

                    b.HasIndex("ReceiptNumber")
                        .IsUnique()
                        .HasDatabaseName("IX_DispensingRecord_ReceiptNumber");

                    b.HasIndex("PatientId", "DispensedAt")
                        .HasDatabaseName("IX_DispensingRecord_Patient_Date");

                    b.HasIndex("PharmacyId", "DispensedAt")
                        .HasDatabaseName("IX_DispensingRecord_Pharmacy_Date");

                    b.ToTable("DispensingRecords", null, t =>
                        {
                            t.HasCheckConstraint("CK_DispensingRecord_TotalCost", "[TotalCost] >= 0");
                        });
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Pharmacies.Medication", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("BrandName")
                        .IsRequired()
                        .HasMaxLength(250)
                        .HasColumnType("nvarchar(250)");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<int>("DosageForm")
                        .HasColumnType("int");

                    b.Property<string>("GenericName")
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<string>("Strength")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("UpdatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("BrandName")
                        .HasDatabaseName("IX_Medication_BrandName");

                    b.HasIndex("DosageForm")
                        .HasDatabaseName("IX_Medication_DosageForm");

                    b.HasIndex("GenericName")
                        .HasDatabaseName("IX_Medication_GenericName");

                    b.ToTable("Medications", (string)null);
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Pharmacies.PharmacyOrder", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime?>("ActualDeliveryTime")
                        .HasColumnType("datetime2");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<decimal>("DeliveryFee")
                        .HasPrecision(10, 2)
                        .HasColumnType("decimal(10,2)");

                    b.Property<string>("DeliveryNotes")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<string>("DeliveryPersonName")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<string>("DeliveryPersonPhone")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<int>("DeliveryType")
                        .HasColumnType("int");

                    b.Property<DateTime?>("EstimatedDeliveryTime")
                        .HasColumnType("datetime2");

                    b.Property<string>("OrderNumber")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<bool?>("PatientConfirmed")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("PatientConfirmedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("PatientDigitalSignature")
                        .HasMaxLength(5000)
                        .HasColumnType("nvarchar(max)");

                    b.Property<Guid>("PatientId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("PatientNotes")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<Guid>("PharmacyId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid?>("PrescriptionId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<int>("Status")
                        .HasColumnType("int");

                    b.Property<decimal>("TotalCost")
                        .HasPrecision(10, 2)
                        .HasColumnType("decimal(10,2)");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("UpdatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("OrderNumber")
                        .IsUnique()
                        .HasDatabaseName("IX_PharmacyOrder_OrderNumber");

                    b.HasIndex("PatientId")
                        .HasDatabaseName("IX_PharmacyOrder_PatientId");

                    b.HasIndex("PharmacyId")
                        .HasDatabaseName("IX_PharmacyOrder_PharmacyId");

                    b.HasIndex("PrescriptionId")
                        .IsUnique()
                        .HasFilter("[PrescriptionId] IS NOT NULL");

                    b.HasIndex("Status")
                        .HasDatabaseName("IX_PharmacyOrder_Status");

                    b.HasIndex("PatientId", "Status")
                        .HasDatabaseName("IX_PharmacyOrder_Patient_Status");

                    b.HasIndex("PharmacyId", "Status")
                        .HasDatabaseName("IX_PharmacyOrder_Pharmacy_Status");

                    b.ToTable("PharmacyOrders", null, t =>
                        {
                            t.HasCheckConstraint("CK_PharmacyOrder_Costs", "[TotalCost] >= 0 AND [DeliveryFee] >= 0");
                        });
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Pharmacies.PharmacyOrderItem", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid?>("AlternativeMedicationId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("AlternativeNotes")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<decimal?>("AlternativeUnitPrice")
                        .HasPrecision(10, 2)
                        .HasColumnType("decimal(10,2)");

                    b.Property<int?>("AvailableQuantity")
                        .HasColumnType("int");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("PharmacyOrderId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("RequestedMedicationId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<int>("Status")
                        .HasColumnType("int");

                    b.Property<decimal?>("TotalPrice")
                        .HasPrecision(10, 2)
                        .HasColumnType("decimal(10,2)");

                    b.Property<decimal?>("UnitPrice")
                        .HasPrecision(10, 2)
                        .HasColumnType("decimal(10,2)");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("UpdatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("AlternativeMedicationId");

                    b.HasIndex("PharmacyOrderId")
                        .HasDatabaseName("IX_PharmacyOrderItem_OrderId");

                    b.HasIndex("RequestedMedicationId")
                        .HasDatabaseName("IX_PharmacyOrderItem_RequestedMedicationId");

                    b.HasIndex("Status")
                        .HasDatabaseName("IX_PharmacyOrderItem_Status");

                    b.HasIndex("PharmacyOrderId", "RequestedMedicationId")
                        .IsUnique()
                        .HasDatabaseName("IX_PharmacyOrderItem_Order_Medication");

                    b.ToTable("PharmacyOrderItems", null, t =>
                        {
                            t.HasCheckConstraint("CK_PharmacyOrderItem_AlternativePrices", "[AlternativeUnitPrice] IS NULL OR [AlternativeUnitPrice] >= 0");

                            t.HasCheckConstraint("CK_PharmacyOrderItem_Prices", "[UnitPrice] IS NULL OR [UnitPrice] >= 0");
                        });
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Pharmacies.PharmacyWorkingHours", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<int>("DayOfWeek")
                        .HasColumnType("int");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("DeletedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<TimeOnly>("EndTime")
                        .HasColumnType("time");

                    b.Property<bool>("IsDeleted")
                        .HasColumnType("bit");

                    b.Property<Guid>("PharmacyId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<TimeOnly>("StartTime")
                        .HasColumnType("time");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("UpdatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("PharmacyId")
                        .HasDatabaseName("IX_PharmacyWorkingHours_PharmacyId");

                    b.HasIndex("PharmacyId", "DayOfWeek")
                        .HasDatabaseName("IX_PharmacyWorkingHours_Pharmacy_Day");

                    b.HasIndex("PharmacyId", "DayOfWeek", "StartTime", "EndTime")
                        .IsUnique()
                        .HasDatabaseName("IX_PharmacyWorkingHours_Unique");

                    b.ToTable("PharmacyWorkingHours", null, t =>
                        {
                            t.HasCheckConstraint("CK_PharmacyWorkingHours_Time", "[StartTime] < [EndTime]");
                        });
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Pharmacies.PrescribedMedication", b =>
                {
                    b.Property<Guid>("MedicationPrescriptionId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("MedicationId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Dosage")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<int>("DurationDays")
                        .HasColumnType("int");

                    b.Property<string>("Frequency")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<string>("SpecialInstructions")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.HasKey("MedicationPrescriptionId", "MedicationId");

                    b.HasIndex("MedicationId")
                        .HasDatabaseName("IX_PrescribedMedication_MedicationId");

                    b.HasIndex("MedicationPrescriptionId")
                        .HasDatabaseName("IX_PrescribedMedication_PrescriptionId");

                    b.ToTable("PrescribedMedications", null, t =>
                        {
                            t.HasCheckConstraint("CK_PrescribedMedication_Duration", "[DurationDays] > 0");
                        });
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Pharmacies.Prescription", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid?>("AppointmentId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("CancellationReason")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<DateTime?>("CancelledAt")
                        .HasColumnType("datetime2");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("DigitalSignature")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<DateTime?>("DispensedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid>("DoctorId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("GeneralInstructions")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<Guid>("PatientId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("PrescriptionNumber")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<int>("Status")
                        .HasColumnType("int");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("UpdatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("AppointmentId")
                        .IsUnique()
                        .HasFilter("[AppointmentId] IS NOT NULL");

                    b.HasIndex("DoctorId")
                        .HasDatabaseName("IX_Prescription_DoctorId");

                    b.HasIndex("PatientId")
                        .HasDatabaseName("IX_Prescription_PatientId");

                    b.HasIndex("PrescriptionNumber")
                        .IsUnique()
                        .HasDatabaseName("IX_Prescription_Number");

                    b.HasIndex("Status")
                        .HasDatabaseName("IX_Prescription_Status");

                    b.HasIndex("PatientId", "Status")
                        .HasDatabaseName("IX_Prescription_Patient_Status");

                    b.ToTable("Prescriptions", (string)null);
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Identity.RefreshToken", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<string>("CreatedByIp")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<DateTime>("ExpiresAt")
                        .HasColumnType("datetime2");

                    b.Property<bool>("IsRevoked")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<string>("RevocationReason")
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<DateTime?>("RevokedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("RevokedByIp")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("Token")
                        .IsRequired()
                        .HasMaxLength(512)
                        .HasColumnType("nvarchar(512)");

                    b.Property<Guid>("UserId")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("UserId");

                    b.ToTable("RefreshTokens", null, t =>
                        {
                            t.HasCheckConstraint("CK_RefreshToken_Expiration", "[ExpiresAt] > [CreatedAt]");
                        });
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Identity.Role", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("ConcurrencyStamp")
                        .IsConcurrencyToken()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Name")
                        .HasMaxLength(256)
                        .HasColumnType("nvarchar(256)");

                    b.Property<string>("NormalizedName")
                        .HasMaxLength(256)
                        .HasColumnType("nvarchar(256)");

                    b.Property<int>("UserRole")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("NormalizedName")
                        .IsUnique()
                        .HasDatabaseName("RoleNameIndex")
                        .HasFilter("[NormalizedName] IS NOT NULL");

                    b.ToTable("AspNetRoles", (string)null);
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Identity.User", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<int>("AccessFailedCount")
                        .HasColumnType("int");

                    b.Property<string>("ConcurrencyStamp")
                        .IsConcurrencyToken()
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("DeletedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Email")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<bool>("EmailConfirmed")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("EmailVerifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("FirstName")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<bool>("IsDeleted")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<bool>("IsOAuthAccount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<DateTime?>("LastLoginAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("LastLoginIp")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("LastName")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<bool>("LockoutEnabled")
                        .HasColumnType("bit");

                    b.Property<DateTimeOffset?>("LockoutEnd")
                        .HasColumnType("datetimeoffset");

                    b.Property<string>("NormalizedEmail")
                        .HasMaxLength(256)
                        .HasColumnType("nvarchar(256)");

                    b.Property<string>("NormalizedUserName")
                        .HasMaxLength(256)
                        .HasColumnType("nvarchar(256)");

                    b.Property<string>("OAuthProvider")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("OAuthProviderId")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)");

                    b.Property<string>("PasswordHash")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("PhoneNumber")
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<bool>("PhoneNumberConfirmed")
                        .HasColumnType("bit");

                    b.Property<string>("ProfilePictureUrl")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<string>("SecurityStamp")
                        .HasColumnType("nvarchar(max)");

                    b.Property<bool>("TwoFactorEnabled")
                        .HasColumnType("bit");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("UpdatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("UserName")
                        .HasMaxLength(256)
                        .HasColumnType("nvarchar(256)");

                    b.HasKey("Id");

                    b.HasIndex("Email")
                        .IsUnique()
                        .HasDatabaseName("IX_User_Email");

                    b.HasIndex("IsDeleted")
                        .HasDatabaseName("IX_User_IsDeleted");

                    b.HasIndex("NormalizedEmail")
                        .HasDatabaseName("EmailIndex");

                    b.HasIndex("NormalizedUserName")
                        .IsUnique()
                        .HasDatabaseName("UserNameIndex")
                        .HasFilter("[NormalizedUserName] IS NOT NULL");

                    b.HasIndex("FirstName", "LastName")
                        .HasDatabaseName("IX_User_FullName");

                    b.ToTable("AspNetUsers", (string)null);

                    b.UseTptMappingStrategy();
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Medical.Appointment", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime?>("ActualEndTime")
                        .HasColumnType("datetime2");

                    b.Property<DateTime?>("ActualStartTime")
                        .HasColumnType("datetime2");

                    b.Property<string>("CancellationReason")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<DateTime?>("CancelledAt")
                        .HasColumnType("datetime2");

                    b.Property<decimal>("ConsultationFee")
                        .HasPrecision(10, 2)
                        .HasColumnType("decimal(10,2)");

                    b.Property<int>("ConsultationType")
                        .HasColumnType("int");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("DoctorId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("PatientId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid?>("PreviousAppointmentId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("ScheduledEndTime")
                        .HasColumnType("datetime2");

                    b.Property<DateTime>("ScheduledStartTime")
                        .HasColumnType("datetime2");

                    b.Property<int>("SessionDurationMinutes")
                        .HasColumnType("int");

                    b.Property<int>("Status")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(1);

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("UpdatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("DoctorId")
                        .HasDatabaseName("IX_Appointment_DoctorId");

                    b.HasIndex("PatientId")
                        .HasDatabaseName("IX_Appointment_PatientId");

                    b.HasIndex("PreviousAppointmentId");

                    b.HasIndex("ScheduledStartTime")
                        .HasDatabaseName("IX_Appointment_ScheduledStartTime");

                    b.HasIndex("Status")
                        .HasDatabaseName("IX_Appointment_Status");

                    b.HasIndex("DoctorId", "ScheduledStartTime")
                        .HasDatabaseName("IX_Appointment_Doctor_StartTime");

                    b.HasIndex("PatientId", "Status")
                        .HasDatabaseName("IX_Appointment_Patient_Status");

                    b.HasIndex("DoctorId", "Status", "ScheduledStartTime")
                        .HasDatabaseName("IX_Appointment_Doctor_Status_StartTime");

                    b.ToTable("Appointments", null, t =>
                        {
                            t.HasCheckConstraint("CK_Appointment_ConsultationFee", "[ConsultationFee] >= 0");

                            t.HasCheckConstraint("CK_Appointment_SessionDuration", "[SessionDurationMinutes] > 0 AND [SessionDurationMinutes] <= 480");

                            t.HasCheckConstraint("CK_Appointment_TimeValidation", "[ScheduledStartTime] < [ScheduledEndTime]");
                        });
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Medical.Consultations.ConsultationRecord", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("AppointmentId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("ChiefComplaint")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Diagnosis")
                        .IsRequired()
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<string>("HistoryOfPresentIllness")
                        .IsRequired()
                        .HasMaxLength(2000)
                        .HasColumnType("nvarchar(2000)");

                    b.Property<string>("ManagementPlan")
                        .IsRequired()
                        .HasMaxLength(2000)
                        .HasColumnType("nvarchar(2000)");

                    b.Property<string>("PhysicalExamination")
                        .IsRequired()
                        .HasMaxLength(2000)
                        .HasColumnType("nvarchar(2000)");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("UpdatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("AppointmentId")
                        .IsUnique()
                        .HasDatabaseName("IX_ConsultationRecord_AppointmentId");

                    b.ToTable("ConsultationRecords", (string)null);
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Medical.Consultations.ConsultationType", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<int>("ConsultationTypeEnum")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.ToTable("ConsultationTypes", (string)null);
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Medical.Consultations.DoctorConsultation", b =>
                {
                    b.Property<Guid>("DoctorId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("ConsultationTypeId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<decimal>("ConsultationFee")
                        .HasPrecision(10, 2)
                        .HasColumnType("decimal(10,2)");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<int>("SessionDurationMinutes")
                        .HasColumnType("int");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("UpdatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("DoctorId", "ConsultationTypeId");

                    b.HasIndex("ConsultationTypeId");

                    b.ToTable("DoctorConsultations", null, t =>
                        {
                            t.HasCheckConstraint("CK_DoctorConsultation_Duration", "[SessionDurationMinutes] >= 15 AND [SessionDurationMinutes] <= 120");

                            t.HasCheckConstraint("CK_DoctorConsultation_Fee", "[ConsultationFee] >= 0");
                        });
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Medical.Partners.DoctorPartnerSuggestion", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("DoctorId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime?>("LaboratorySuggestedAt")
                        .HasColumnType("datetime2");

                    b.Property<DateTime?>("PharmacySuggestedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("SuggestedLaboratoryId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid?>("SuggestedPharmacyId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("UpdatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("DoctorId")
                        .IsUnique()
                        .HasDatabaseName("IX_DoctorPartnerSuggestion_DoctorId");

                    b.HasIndex("SuggestedLaboratoryId")
                        .HasDatabaseName("IX_DoctorPartnerSuggestion_LaboratoryId");

                    b.HasIndex("SuggestedPharmacyId")
                        .HasDatabaseName("IX_DoctorPartnerSuggestion_PharmacyId");

                    b.ToTable("DoctorPartnerSuggestions", (string)null);
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Medical.Schedules.DoctorAvailability", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<int>("DayOfWeek")
                        .HasColumnType("int");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("DeletedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("DoctorId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<TimeOnly>("EndTime")
                        .HasColumnType("time");

                    b.Property<bool>("IsDeleted")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<TimeOnly>("StartTime")
                        .HasColumnType("time");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("UpdatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("DoctorId")
                        .HasDatabaseName("IX_DoctorAvailability_DoctorId");

                    b.HasIndex("IsDeleted")
                        .HasDatabaseName("IX_DoctorAvailability_IsDeleted");

                    b.HasIndex("DoctorId", "DayOfWeek")
                        .HasDatabaseName("IX_DoctorAvailability_Doctor_Day");

                    b.HasIndex("DoctorId", "DayOfWeek", "StartTime", "EndTime")
                        .IsUnique()
                        .HasDatabaseName("IX_DoctorAvailability_Unique")
                        .HasFilter("[IsDeleted] = 0");

                    b.ToTable("DoctorAvailabilities", null, t =>
                        {
                            t.HasCheckConstraint("CK_DoctorAvailability_TimeValidation", "[StartTime] < [EndTime]");
                        });
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Medical.Schedules.DoctorOverride", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("DoctorId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("EndTime")
                        .HasColumnType("datetime2");

                    b.Property<DateTime>("StartTime")
                        .HasColumnType("datetime2");

                    b.Property<int>("Type")
                        .HasColumnType("int");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("UpdatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("DoctorId")
                        .HasDatabaseName("IX_DoctorOverride_DoctorId");

                    b.HasIndex("StartTime")
                        .HasDatabaseName("IX_DoctorOverride_StartTime");

                    b.HasIndex("DoctorId", "Type")
                        .HasDatabaseName("IX_DoctorOverride_Doctor_Type");

                    b.ToTable("DoctorOverrides", null, t =>
                        {
                            t.HasCheckConstraint("CK_DoctorOverride_TimeValidation", "[StartTime] < [EndTime]");
                        });
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Shared.Address", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("BuildingNumber")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("City")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime?>("DeletedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("DeletedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<int>("Governorate")
                        .HasColumnType("int");

                    b.Property<bool>("IsDeleted")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<double?>("Latitude")
                        .HasPrecision(18, 12)
                        .HasColumnType("float(18)");

                    b.Property<double?>("Longitude")
                        .HasPrecision(18, 12)
                        .HasColumnType("float(18)");

                    b.Property<string>("Street")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("UpdatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("Governorate")
                        .HasDatabaseName("IX_Address_Governorate");

                    b.HasIndex("IsDeleted")
                        .HasDatabaseName("IX_Address_IsDeleted");

                    b.HasIndex("Latitude", "Longitude")
                        .HasDatabaseName("IX_Address_Coordinates");

                    b.ToTable("Addresses", (string)null);
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Shared.LaboratoryDocument", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("DocumentUrl")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<Guid>("LaboratoryId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("RejectionReason")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<int>("Status")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(1);

                    b.Property<int>("Type")
                        .HasColumnType("int");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("UpdatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("LaboratoryId")
                        .HasDatabaseName("IX_LaboratoryDocument_LaboratoryId");

                    b.HasIndex("Status")
                        .HasDatabaseName("IX_LaboratoryDocument_Status");

                    b.HasIndex("LaboratoryId", "Type")
                        .HasDatabaseName("IX_LaboratoryDocument_Laboratory_Type");

                    b.ToTable("LaboratoryDocuments", (string)null);
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Shared.MedicalHistoryItem", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("PatientId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Text")
                        .IsRequired()
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<int>("Type")
                        .HasColumnType("int");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("UpdatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("PatientId")
                        .HasDatabaseName("IX_MedicalHistoryItem_PatientId");

                    b.HasIndex("Type")
                        .HasDatabaseName("IX_MedicalHistoryItem_Type");

                    b.HasIndex("PatientId", "Type")
                        .HasDatabaseName("IX_MedicalHistoryItem_Patient_Type");

                    b.ToTable("MedicalHistoryItems", (string)null);
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Shared.PharmacyDocument", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("DocumentUrl")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<Guid>("PharmacyId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("RejectionReason")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<int>("Status")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(1);

                    b.Property<int>("Type")
                        .HasColumnType("int");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("UpdatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("PharmacyId")
                        .HasDatabaseName("IX_PharmacyDocument_PharmacyId");

                    b.HasIndex("Status")
                        .HasDatabaseName("IX_PharmacyDocument_Status");

                    b.HasIndex("PharmacyId", "Type")
                        .HasDatabaseName("IX_PharmacyDocument_Pharmacy_Type");

                    b.ToTable("PharmacyDocuments", (string)null);
                });

            modelBuilder.Entity("Shuryan.Core.Entities.System.Conversation", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<string>("LastMessage")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<DateTime?>("LastMessageAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Title")
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("UpdatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("UserId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<int>("UserRole")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("IsActive")
                        .HasDatabaseName("IX_Conversation_IsActive");

                    b.HasIndex("LastMessageAt")
                        .HasDatabaseName("IX_Conversation_LastMessageAt");

                    b.HasIndex("UserId")
                        .HasDatabaseName("IX_Conversation_UserId");

                    b.HasIndex("UserId", "IsActive")
                        .HasDatabaseName("IX_Conversation_User_IsActive");

                    b.ToTable("Conversations", (string)null);
                });

            modelBuilder.Entity("Shuryan.Core.Entities.System.ConversationMessage", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("ActionsJson")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Content")
                        .IsRequired()
                        .HasMaxLength(4000)
                        .HasColumnType("nvarchar(4000)");

                    b.Property<string>("ContextJson")
                        .HasColumnType("nvarchar(max)");

                    b.Property<Guid>("ConversationId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<int?>("ResponseTimeMs")
                        .HasColumnType("int");

                    b.Property<int>("Role")
                        .HasColumnType("int");

                    b.Property<string>("SuggestionsJson")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int?>("TokenCount")
                        .HasColumnType("int");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("UpdatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("ConversationId")
                        .HasDatabaseName("IX_ConversationMessage_ConversationId");

                    b.HasIndex("Role")
                        .HasDatabaseName("IX_ConversationMessage_Role");

                    b.HasIndex("ConversationId", "CreatedAt")
                        .HasDatabaseName("IX_ConversationMessage_Conversation_CreatedAt");

                    b.ToTable("ConversationMessages", (string)null);
                });

            modelBuilder.Entity("Shuryan.Core.Entities.System.EmailVerification", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<int>("AttemptCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Email")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)");

                    b.Property<DateTime>("ExpiresAt")
                        .HasColumnType("datetime2");

                    b.Property<bool>("IsUsed")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<string>("OtpCode")
                        .IsRequired()
                        .HasMaxLength(6)
                        .HasColumnType("nvarchar(6)");

                    b.Property<string>("RequestedFromIp")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<Guid>("UserId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<int>("VerificationType")
                        .HasColumnType("int");

                    b.Property<DateTime?>("VerifiedAt")
                        .HasColumnType("datetime2");

                    b.HasKey("Id");

                    b.HasIndex("Email")
                        .HasDatabaseName("IX_EmailVerification_Email");

                    b.HasIndex("ExpiresAt")
                        .HasDatabaseName("IX_EmailVerification_ExpiresAt");

                    b.HasIndex("UserId")
                        .HasDatabaseName("IX_EmailVerification_UserId");

                    b.HasIndex("Email", "OtpCode")
                        .HasDatabaseName("IX_EmailVerification_Email_OtpCode");

                    b.HasIndex("IsUsed", "ExpiresAt")
                        .HasDatabaseName("IX_EmailVerification_IsUsed_ExpiresAt");

                    b.ToTable("EmailVerifications", null, t =>
                        {
                            t.HasCheckConstraint("CK_EmailVerification_AttemptCount", "[AttemptCount] >= 0 AND [AttemptCount] <= 10");
                        });
                });

            modelBuilder.Entity("Shuryan.Core.Entities.System.Notification", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<int>("DeliveryMethod")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(1);

                    b.Property<string>("FailureReason")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<bool>("IsRead")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<bool>("IsSent")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<string>("Message")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<int>("Priority")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(2);

                    b.Property<DateTime?>("ReadAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("RelatedEntityId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("RelatedEntityType")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<DateTime?>("SentAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Title")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<int>("Type")
                        .HasColumnType("int");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("UpdatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("UserId")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("IsRead")
                        .HasDatabaseName("IX_Notification_IsRead");

                    b.HasIndex("Type")
                        .HasDatabaseName("IX_Notification_Type");

                    b.HasIndex("UserId")
                        .HasDatabaseName("IX_Notification_UserId");

                    b.HasIndex("RelatedEntityType", "RelatedEntityId")
                        .HasDatabaseName("IX_Notification_RelatedEntity");

                    b.HasIndex("UserId", "IsRead")
                        .HasDatabaseName("IX_Notification_User_IsRead");

                    b.ToTable("Notifications", (string)null);
                });

            modelBuilder.Entity("Shuryan.Core.Entities.System.Review.DoctorReview", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("AppointmentId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<int>("ClinicCleanliness")
                        .HasColumnType("int");

                    b.Property<string>("Comment")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<int>("CommunicationQuality")
                        .HasColumnType("int");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("DoctorId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime?>("DoctorRepliedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("DoctorReply")
                        .HasMaxLength(300)
                        .HasColumnType("nvarchar(300)");

                    b.Property<bool>("IsAnonymous")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<bool>("IsEdited")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<int>("OverallSatisfaction")
                        .HasColumnType("int");

                    b.Property<Guid>("PatientId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("UpdatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<int>("ValueForMoney")
                        .HasColumnType("int");

                    b.Property<int>("WaitingTime")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("AppointmentId")
                        .IsUnique()
                        .HasDatabaseName("IX_DoctorReview_AppointmentId");

                    b.HasIndex("DoctorId")
                        .HasDatabaseName("IX_DoctorReview_DoctorId");

                    b.HasIndex("IsAnonymous")
                        .HasDatabaseName("IX_DoctorReview_IsAnonymous");

                    b.HasIndex("PatientId")
                        .HasDatabaseName("IX_DoctorReview_PatientId");

                    b.ToTable("DoctorReviews", null, t =>
                        {
                            t.HasCheckConstraint("CK_DoctorReview_ClinicCleanliness", "[ClinicCleanliness] >= 1 AND [ClinicCleanliness] <= 5");

                            t.HasCheckConstraint("CK_DoctorReview_CommunicationQuality", "[CommunicationQuality] >= 1 AND [CommunicationQuality] <= 5");

                            t.HasCheckConstraint("CK_DoctorReview_OverallSatisfaction", "[OverallSatisfaction] >= 1 AND [OverallSatisfaction] <= 5");

                            t.HasCheckConstraint("CK_DoctorReview_ValueForMoney", "[ValueForMoney] >= 1 AND [ValueForMoney] <= 5");

                            t.HasCheckConstraint("CK_DoctorReview_WaitingTime", "[WaitingTime] >= 1 AND [WaitingTime] <= 5");
                        });
                });

            modelBuilder.Entity("Shuryan.Core.Entities.System.Review.LaboratoryReview", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<int>("DeliverySpeed")
                        .HasColumnType("int");

                    b.Property<bool>("IsEdited")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<Guid>("LabOrderId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("LaboratoryId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<int>("OverallSatisfaction")
                        .HasColumnType("int");

                    b.Property<Guid>("PatientId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<int>("ResultAccuracy")
                        .HasColumnType("int");

                    b.Property<int>("ServiceQuality")
                        .HasColumnType("int");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("UpdatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<int>("ValueForMoney")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("LabOrderId")
                        .IsUnique()
                        .HasDatabaseName("IX_LaboratoryReview_LabOrderId");

                    b.HasIndex("LaboratoryId")
                        .HasDatabaseName("IX_LaboratoryReview_LaboratoryId");

                    b.HasIndex("PatientId")
                        .HasDatabaseName("IX_LaboratoryReview_PatientId");

                    b.ToTable("LaboratoryReviews", null, t =>
                        {
                            t.HasCheckConstraint("CK_LaboratoryReview_DeliverySpeed", "[DeliverySpeed] >= 1 AND [DeliverySpeed] <= 5");

                            t.HasCheckConstraint("CK_LaboratoryReview_OverallSatisfaction", "[OverallSatisfaction] >= 1 AND [OverallSatisfaction] <= 5");

                            t.HasCheckConstraint("CK_LaboratoryReview_ResultAccuracy", "[ResultAccuracy] >= 1 AND [ResultAccuracy] <= 5");

                            t.HasCheckConstraint("CK_LaboratoryReview_ServiceQuality", "[ServiceQuality] >= 1 AND [ServiceQuality] <= 5");

                            t.HasCheckConstraint("CK_LaboratoryReview_ValueForMoney", "[ValueForMoney] >= 1 AND [ValueForMoney] <= 5");
                        });
                });

            modelBuilder.Entity("Shuryan.Core.Entities.System.Review.PharmacyReview", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<Guid?>("CreatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<int>("DeliverySpeed")
                        .HasColumnType("int");

                    b.Property<bool>("IsEdited")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<int>("MedicationAvailability")
                        .HasColumnType("int");

                    b.Property<int>("OverallSatisfaction")
                        .HasColumnType("int");

                    b.Property<Guid>("PatientId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("PharmacyId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("PharmacyOrderId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<int>("ServiceQuality")
                        .HasColumnType("int");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("UpdatedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<int>("ValueForMoney")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("PatientId")
                        .HasDatabaseName("IX_PharmacyReview_PatientId");

                    b.HasIndex("PharmacyId")
                        .HasDatabaseName("IX_PharmacyReview_PharmacyId");

                    b.HasIndex("PharmacyOrderId")
                        .IsUnique()
                        .HasDatabaseName("IX_PharmacyReview_PharmacyOrderId");

                    b.ToTable("PharmacyReviews", null, t =>
                        {
                            t.HasCheckConstraint("CK_PharmacyReview_DeliverySpeed", "[DeliverySpeed] >= 1 AND [DeliverySpeed] <= 5");

                            t.HasCheckConstraint("CK_PharmacyReview_MedicationAvailability", "[MedicationAvailability] >= 1 AND [MedicationAvailability] <= 5");

                            t.HasCheckConstraint("CK_PharmacyReview_OverallSatisfaction", "[OverallSatisfaction] >= 1 AND [OverallSatisfaction] <= 5");

                            t.HasCheckConstraint("CK_PharmacyReview_ServiceQuality", "[ServiceQuality] >= 1 AND [ServiceQuality] <= 5");

                            t.HasCheckConstraint("CK_PharmacyReview_ValueForMoney", "[ValueForMoney] >= 1 AND [ValueForMoney] <= 5");
                        });
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Identity.Laboratory", b =>
                {
                    b.HasBaseType("Shuryan.Core.Entities.Identity.User");

                    b.Property<Guid?>("AddressId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Description")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<decimal?>("HomeSampleCollectionFee")
                        .HasPrecision(10, 2)
                        .HasColumnType("decimal(10,2)");

                    b.Property<int>("LaboratoryStatus")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(1);

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<bool>("OffersHomeSampleCollection")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<int>("VerificationStatus")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<DateTime?>("VerifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("VerifierId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Website")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<string>("WhatsAppNumber")
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.HasIndex("AddressId")
                        .IsUnique()
                        .HasDatabaseName("IX_Laboratory_AddressId")
                        .HasFilter("[AddressId] IS NOT NULL");

                    b.HasIndex("Name")
                        .HasDatabaseName("IX_Laboratory_Name");

                    b.HasIndex("VerificationStatus")
                        .HasDatabaseName("IX_Laboratory_VerificationStatus");

                    b.HasIndex("VerifierId");

                    b.HasIndex("LaboratoryStatus", "OffersHomeSampleCollection")
                        .HasDatabaseName("IX_Laboratory_Status_HomeCollection");

                    b.ToTable("Laboratories", null, t =>
                        {
                            t.HasCheckConstraint("CK_Laboratory_HomeSampleFee", "[HomeSampleCollectionFee] IS NULL OR [HomeSampleCollectionFee] >= 0");
                        });
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Identity.Pharmacy", b =>
                {
                    b.HasBaseType("Shuryan.Core.Entities.Identity.User");

                    b.Property<Guid?>("AddressId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<decimal>("DeliveryFee")
                        .HasColumnType("decimal(18,2)");

                    b.Property<string>("Description")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(250)
                        .HasColumnType("nvarchar(250)");

                    b.Property<bool>("OffersDelivery")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<int>("PharmacyStatus")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(1);

                    b.Property<int>("VerificationStatus")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<DateTime?>("VerifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("VerifierId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Website")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<string>("WhatsAppNumber")
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.HasIndex("AddressId")
                        .IsUnique()
                        .HasDatabaseName("IX_Pharmacy_AddressId")
                        .HasFilter("[AddressId] IS NOT NULL");

                    b.HasIndex("Name")
                        .HasDatabaseName("IX_Pharmacy_Name");

                    b.HasIndex("VerificationStatus")
                        .HasDatabaseName("IX_Pharmacy_VerificationStatus");

                    b.HasIndex("VerifierId");

                    b.HasIndex("PharmacyStatus", "OffersDelivery")
                        .HasDatabaseName("IX_Pharmacy_Status_Delivery");

                    b.ToTable("Pharmacies", (string)null);
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Identity.ProfileUser", b =>
                {
                    b.HasBaseType("Shuryan.Core.Entities.Identity.User");

                    b.Property<DateTime?>("BirthDate")
                        .HasColumnType("datetime2");

                    b.Property<int?>("Gender")
                        .HasColumnType("int");

                    b.Property<string>("ProfileImageUrl")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.HasIndex("Gender")
                        .HasDatabaseName("IX_ProfileUser_Gender");

                    b.ToTable("ProfileUsers", (string)null);
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Identity.Verifier", b =>
                {
                    b.HasBaseType("Shuryan.Core.Entities.Identity.User");

                    b.Property<Guid?>("CreatedByAdminId")
                        .HasColumnType("uniqueidentifier");

                    b.ToTable("Verifiers", (string)null);
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Identity.Doctor", b =>
                {
                    b.HasBaseType("Shuryan.Core.Entities.Identity.ProfileUser");

                    b.Property<string>("Biography")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<int>("MedicalSpecialty")
                        .HasColumnType("int");

                    b.Property<int>("VerificationStatus")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<DateTime?>("VerifiedAt")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("VerifierId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<int>("YearsOfExperience")
                        .HasColumnType("int");

                    b.HasIndex("MedicalSpecialty")
                        .HasDatabaseName("IX_Doctor_MedicalSpecialty");

                    b.HasIndex("VerificationStatus")
                        .HasDatabaseName("IX_Doctor_VerificationStatus");

                    b.HasIndex("VerifierId");

                    b.HasIndex("VerificationStatus", "MedicalSpecialty")
                        .HasDatabaseName("IX_Doctor_Verification_Specialty");

                    b.ToTable("Doctors", null, t =>
                        {
                            t.HasCheckConstraint("CK_Doctor_YearsOfExperience", "[YearsOfExperience] >= 0 AND [YearsOfExperience] <= 60");
                        });
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Identity.Patient", b =>
                {
                    b.HasBaseType("Shuryan.Core.Entities.Identity.ProfileUser");

                    b.Property<Guid?>("AddressId")
                        .HasColumnType("uniqueidentifier");

                    b.HasIndex("AddressId")
                        .IsUnique()
                        .HasDatabaseName("IX_Patient_AddressId")
                        .HasFilter("[AddressId] IS NOT NULL");

                    b.ToTable("Patients", (string)null);
                });

            modelBuilder.Entity("Microsoft.AspNetCore.Identity.IdentityRoleClaim<System.Guid>", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.Identity.Role", null)
                        .WithMany()
                        .HasForeignKey("RoleId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("Microsoft.AspNetCore.Identity.IdentityUserClaim<System.Guid>", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.Identity.User", null)
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("Microsoft.AspNetCore.Identity.IdentityUserLogin<System.Guid>", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.Identity.User", null)
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("Microsoft.AspNetCore.Identity.IdentityUserRole<System.Guid>", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.Identity.Role", null)
                        .WithMany()
                        .HasForeignKey("RoleId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Shuryan.Core.Entities.Identity.User", null)
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("Microsoft.AspNetCore.Identity.IdentityUserToken<System.Guid>", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.Identity.User", null)
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Common.DoctorDocument", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.Identity.Doctor", "Doctor")
                        .WithMany("VerificationDocuments")
                        .HasForeignKey("DoctorId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Doctor");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Clinic.Clinic", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.Shared.Address", "Address")
                        .WithOne()
                        .HasForeignKey("Shuryan.Core.Entities.External.Clinic.Clinic", "AddressId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Shuryan.Core.Entities.Identity.Doctor", "Doctor")
                        .WithOne("Clinic")
                        .HasForeignKey("Shuryan.Core.Entities.External.Clinic.Clinic", "DoctorId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Address");

                    b.Navigation("Doctor");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Clinic.ClinicPhoneNumber", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.External.Clinic.Clinic", "Clinic")
                        .WithMany("PhoneNumbers")
                        .HasForeignKey("ClinicId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Clinic");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Clinic.ClinicPhoto", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.External.Clinic.Clinic", "Clinic")
                        .WithMany("Photos")
                        .HasForeignKey("ClinicId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Clinic");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Clinic.ClinicService", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.External.Clinic.Clinic", "Clinic")
                        .WithMany("OfferedServices")
                        .HasForeignKey("ClinicId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Clinic");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Laboratories.LabOrder", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.External.Laboratories.LabPrescription", "LabPrescription")
                        .WithOne("LabOrder")
                        .HasForeignKey("Shuryan.Core.Entities.External.Laboratories.LabOrder", "LabPrescriptionId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("Shuryan.Core.Entities.Identity.Laboratory", "Laboratory")
                        .WithMany("LabOrders")
                        .HasForeignKey("LaboratoryId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("Shuryan.Core.Entities.Identity.Patient", "Patient")
                        .WithMany("LabOrders")
                        .HasForeignKey("PatientId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("LabPrescription");

                    b.Navigation("Laboratory");

                    b.Navigation("Patient");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Laboratories.LabPrescription", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.Medical.Appointment", "Appointment")
                        .WithMany("LabPrescription")
                        .HasForeignKey("AppointmentId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("Shuryan.Core.Entities.Identity.Doctor", "Doctor")
                        .WithMany("LabPrescriptions")
                        .HasForeignKey("DoctorId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("Shuryan.Core.Entities.Identity.Patient", "Patient")
                        .WithMany()
                        .HasForeignKey("PatientId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("Appointment");

                    b.Navigation("Doctor");

                    b.Navigation("Patient");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Laboratories.LabPrescriptionItem", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.External.Laboratories.LabPrescription", "LabPrescription")
                        .WithMany("Items")
                        .HasForeignKey("LabPrescriptionId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Shuryan.Core.Entities.External.Laboratories.LabTest", "LabTest")
                        .WithMany("PrescriptionItems")
                        .HasForeignKey("LabTestId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("LabPrescription");

                    b.Navigation("LabTest");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Laboratories.LabResult", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.External.Laboratories.LabOrder", "LabOrder")
                        .WithMany("LabResults")
                        .HasForeignKey("LabOrderId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Shuryan.Core.Entities.External.Laboratories.LabTest", "LabTest")
                        .WithMany("LabResults")
                        .HasForeignKey("LabTestId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("LabOrder");

                    b.Navigation("LabTest");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Laboratories.LabService", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.External.Laboratories.LabTest", "LabTest")
                        .WithMany("LabServices")
                        .HasForeignKey("LabTestId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("Shuryan.Core.Entities.Identity.Laboratory", "Laboratory")
                        .WithMany("LabServices")
                        .HasForeignKey("LaboratoryId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("LabTest");

                    b.Navigation("Laboratory");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Laboratories.LabWorkingHours", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.Identity.Laboratory", "Laboratory")
                        .WithMany("WorkingHours")
                        .HasForeignKey("LaboratoryId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Laboratory");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Payments.Payment", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.Identity.User", "User")
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("User");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Payments.PaymentTransaction", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.External.Payments.Payment", "Payment")
                        .WithMany("Transactions")
                        .HasForeignKey("PaymentId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Payment");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Pharmacies.DispensedMedicationItem", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.External.Pharmacies.DispensingRecord", "DispensingRecord")
                        .WithMany("DispensedMedications")
                        .HasForeignKey("DispensingRecordId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Shuryan.Core.Entities.External.Pharmacies.Medication", "Medication")
                        .WithMany()
                        .HasForeignKey("MedicationId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("DispensingRecord");

                    b.Navigation("Medication");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Pharmacies.DispensingRecord", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.Identity.Patient", "Patient")
                        .WithMany()
                        .HasForeignKey("PatientId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("Shuryan.Core.Entities.Identity.Pharmacy", "Pharmacy")
                        .WithMany()
                        .HasForeignKey("PharmacyId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("Shuryan.Core.Entities.External.Pharmacies.Prescription", "Prescription")
                        .WithMany()
                        .HasForeignKey("PrescriptionId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("Patient");

                    b.Navigation("Pharmacy");

                    b.Navigation("Prescription");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Pharmacies.PharmacyOrder", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.Identity.Patient", "Patient")
                        .WithMany("PharmacyOrders")
                        .HasForeignKey("PatientId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("Shuryan.Core.Entities.Identity.Pharmacy", "Pharmacy")
                        .WithMany("Orders")
                        .HasForeignKey("PharmacyId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("Shuryan.Core.Entities.External.Pharmacies.Prescription", "Prescription")
                        .WithOne("PharmacyOrder")
                        .HasForeignKey("Shuryan.Core.Entities.External.Pharmacies.PharmacyOrder", "PrescriptionId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.Navigation("Patient");

                    b.Navigation("Pharmacy");

                    b.Navigation("Prescription");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Pharmacies.PharmacyOrderItem", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.External.Pharmacies.Medication", "AlternativeMedication")
                        .WithMany()
                        .HasForeignKey("AlternativeMedicationId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("Shuryan.Core.Entities.External.Pharmacies.PharmacyOrder", "PharmacyOrder")
                        .WithMany("OrderItems")
                        .HasForeignKey("PharmacyOrderId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Shuryan.Core.Entities.External.Pharmacies.Medication", "RequestedMedication")
                        .WithMany()
                        .HasForeignKey("RequestedMedicationId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("AlternativeMedication");

                    b.Navigation("PharmacyOrder");

                    b.Navigation("RequestedMedication");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Pharmacies.PharmacyWorkingHours", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.Identity.Pharmacy", "Pharmacy")
                        .WithMany("WorkingHours")
                        .HasForeignKey("PharmacyId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Pharmacy");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Pharmacies.PrescribedMedication", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.External.Pharmacies.Medication", "Medication")
                        .WithMany("PrescribedMedications")
                        .HasForeignKey("MedicationId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("Shuryan.Core.Entities.External.Pharmacies.Prescription", "MedicationPrescription")
                        .WithMany("PrescribedMedications")
                        .HasForeignKey("MedicationPrescriptionId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Medication");

                    b.Navigation("MedicationPrescription");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Pharmacies.Prescription", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.Medical.Appointment", "Appointment")
                        .WithOne("Prescription")
                        .HasForeignKey("Shuryan.Core.Entities.External.Pharmacies.Prescription", "AppointmentId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.HasOne("Shuryan.Core.Entities.Identity.Doctor", "Doctor")
                        .WithMany("Prescriptions")
                        .HasForeignKey("DoctorId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("Shuryan.Core.Entities.Identity.Patient", "Patient")
                        .WithMany("Prescriptions")
                        .HasForeignKey("PatientId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("Appointment");

                    b.Navigation("Doctor");

                    b.Navigation("Patient");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Identity.RefreshToken", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.Identity.User", "User")
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("User");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Medical.Appointment", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.Identity.Doctor", "Doctor")
                        .WithMany("Appointments")
                        .HasForeignKey("DoctorId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("Shuryan.Core.Entities.Identity.Patient", "Patient")
                        .WithMany("Appointments")
                        .HasForeignKey("PatientId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("Shuryan.Core.Entities.Medical.Appointment", "PreviousAppointment")
                        .WithMany("FollowUpAppointments")
                        .HasForeignKey("PreviousAppointmentId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.Navigation("Doctor");

                    b.Navigation("Patient");

                    b.Navigation("PreviousAppointment");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Medical.Consultations.ConsultationRecord", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.Medical.Appointment", "Appointment")
                        .WithOne("ConsultationRecord")
                        .HasForeignKey("Shuryan.Core.Entities.Medical.Consultations.ConsultationRecord", "AppointmentId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Appointment");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Medical.Consultations.DoctorConsultation", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.Medical.Consultations.ConsultationType", "ConsultationType")
                        .WithMany("Consultations")
                        .HasForeignKey("ConsultationTypeId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Shuryan.Core.Entities.Identity.Doctor", "Doctor")
                        .WithMany("Consultations")
                        .HasForeignKey("DoctorId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("ConsultationType");

                    b.Navigation("Doctor");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Medical.Partners.DoctorPartnerSuggestion", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.Identity.Doctor", "Doctor")
                        .WithOne("PartnerSuggestion")
                        .HasForeignKey("Shuryan.Core.Entities.Medical.Partners.DoctorPartnerSuggestion", "DoctorId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Doctor");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Medical.Schedules.DoctorAvailability", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.Identity.Doctor", "Doctor")
                        .WithMany("Availabilities")
                        .HasForeignKey("DoctorId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Doctor");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Medical.Schedules.DoctorOverride", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.Identity.Doctor", "Doctor")
                        .WithMany("Overrides")
                        .HasForeignKey("DoctorId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Doctor");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Shared.LaboratoryDocument", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.Identity.Laboratory", "Laboratory")
                        .WithMany("VerificationDocuments")
                        .HasForeignKey("LaboratoryId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Laboratory");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Shared.MedicalHistoryItem", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.Identity.Patient", "Patient")
                        .WithMany("MedicalHistory")
                        .HasForeignKey("PatientId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Patient");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Shared.PharmacyDocument", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.Identity.Pharmacy", "Pharmacy")
                        .WithMany("VerificationDocuments")
                        .HasForeignKey("PharmacyId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Pharmacy");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.System.ConversationMessage", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.System.Conversation", "Conversation")
                        .WithMany("Messages")
                        .HasForeignKey("ConversationId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Conversation");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.System.EmailVerification", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.Identity.User", "User")
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("User");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.System.Notification", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.Identity.User", "User")
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("User");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.System.Review.DoctorReview", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.Medical.Appointment", "Appointment")
                        .WithOne("DoctorReview")
                        .HasForeignKey("Shuryan.Core.Entities.System.Review.DoctorReview", "AppointmentId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("Shuryan.Core.Entities.Identity.Doctor", "Doctor")
                        .WithMany("DoctorReviews")
                        .HasForeignKey("DoctorId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("Shuryan.Core.Entities.Identity.Patient", "Patient")
                        .WithMany("DoctorReviews")
                        .HasForeignKey("PatientId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("Appointment");

                    b.Navigation("Doctor");

                    b.Navigation("Patient");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.System.Review.LaboratoryReview", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.External.Laboratories.LabOrder", "LabOrder")
                        .WithOne("LaboratoryReview")
                        .HasForeignKey("Shuryan.Core.Entities.System.Review.LaboratoryReview", "LabOrderId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.HasOne("Shuryan.Core.Entities.Identity.Laboratory", "Laboratory")
                        .WithMany("LaboratoryReviews")
                        .HasForeignKey("LaboratoryId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("Shuryan.Core.Entities.Identity.Patient", "Patient")
                        .WithMany("LaboratoryReviews")
                        .HasForeignKey("PatientId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("LabOrder");

                    b.Navigation("Laboratory");

                    b.Navigation("Patient");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.System.Review.PharmacyReview", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.Identity.Patient", "Patient")
                        .WithMany("PharmacyReviews")
                        .HasForeignKey("PatientId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("Shuryan.Core.Entities.Identity.Pharmacy", "Pharmacy")
                        .WithMany("PharmacyReviews")
                        .HasForeignKey("PharmacyId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("Shuryan.Core.Entities.External.Pharmacies.PharmacyOrder", "PharmacyOrder")
                        .WithOne("PharmacyReview")
                        .HasForeignKey("Shuryan.Core.Entities.System.Review.PharmacyReview", "PharmacyOrderId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.Navigation("Patient");

                    b.Navigation("Pharmacy");

                    b.Navigation("PharmacyOrder");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Identity.Laboratory", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.Shared.Address", "Address")
                        .WithOne()
                        .HasForeignKey("Shuryan.Core.Entities.Identity.Laboratory", "AddressId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.HasOne("Shuryan.Core.Entities.Identity.User", null)
                        .WithOne()
                        .HasForeignKey("Shuryan.Core.Entities.Identity.Laboratory", "Id")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Shuryan.Core.Entities.Identity.Verifier", "Verifier")
                        .WithMany("VerifiedLabors")
                        .HasForeignKey("VerifierId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.Navigation("Address");

                    b.Navigation("Verifier");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Identity.Pharmacy", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.Shared.Address", "Address")
                        .WithOne()
                        .HasForeignKey("Shuryan.Core.Entities.Identity.Pharmacy", "AddressId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.HasOne("Shuryan.Core.Entities.Identity.User", null)
                        .WithOne()
                        .HasForeignKey("Shuryan.Core.Entities.Identity.Pharmacy", "Id")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Shuryan.Core.Entities.Identity.Verifier", "Verifier")
                        .WithMany("VerifiedPharmacies")
                        .HasForeignKey("VerifierId")
                        .OnDelete(DeleteBehavior.Restrict);

                    b.Navigation("Address");

                    b.Navigation("Verifier");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Identity.ProfileUser", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.Identity.User", null)
                        .WithOne()
                        .HasForeignKey("Shuryan.Core.Entities.Identity.ProfileUser", "Id")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Identity.Verifier", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.Identity.User", null)
                        .WithOne()
                        .HasForeignKey("Shuryan.Core.Entities.Identity.Verifier", "Id")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Identity.Doctor", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.Identity.ProfileUser", null)
                        .WithOne()
                        .HasForeignKey("Shuryan.Core.Entities.Identity.Doctor", "Id")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Shuryan.Core.Entities.Identity.Verifier", "Verifier")
                        .WithMany("VerifiedDoctors")
                        .HasForeignKey("VerifierId")
                        .OnDelete(DeleteBehavior.NoAction);

                    b.Navigation("Verifier");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Identity.Patient", b =>
                {
                    b.HasOne("Shuryan.Core.Entities.Shared.Address", "Address")
                        .WithOne()
                        .HasForeignKey("Shuryan.Core.Entities.Identity.Patient", "AddressId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.HasOne("Shuryan.Core.Entities.Identity.ProfileUser", null)
                        .WithOne()
                        .HasForeignKey("Shuryan.Core.Entities.Identity.Patient", "Id")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Address");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Clinic.Clinic", b =>
                {
                    b.Navigation("OfferedServices");

                    b.Navigation("PhoneNumbers");

                    b.Navigation("Photos");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Laboratories.LabOrder", b =>
                {
                    b.Navigation("LabResults");

                    b.Navigation("LaboratoryReview");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Laboratories.LabPrescription", b =>
                {
                    b.Navigation("Items");

                    b.Navigation("LabOrder");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Laboratories.LabTest", b =>
                {
                    b.Navigation("LabResults");

                    b.Navigation("LabServices");

                    b.Navigation("PrescriptionItems");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Payments.Payment", b =>
                {
                    b.Navigation("Transactions");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Pharmacies.DispensingRecord", b =>
                {
                    b.Navigation("DispensedMedications");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Pharmacies.Medication", b =>
                {
                    b.Navigation("PrescribedMedications");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Pharmacies.PharmacyOrder", b =>
                {
                    b.Navigation("OrderItems");

                    b.Navigation("PharmacyReview");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.External.Pharmacies.Prescription", b =>
                {
                    b.Navigation("PharmacyOrder");

                    b.Navigation("PrescribedMedications");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Medical.Appointment", b =>
                {
                    b.Navigation("ConsultationRecord");

                    b.Navigation("DoctorReview");

                    b.Navigation("FollowUpAppointments");

                    b.Navigation("LabPrescription");

                    b.Navigation("Prescription");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Medical.Consultations.ConsultationType", b =>
                {
                    b.Navigation("Consultations");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.System.Conversation", b =>
                {
                    b.Navigation("Messages");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Identity.Laboratory", b =>
                {
                    b.Navigation("LabOrders");

                    b.Navigation("LabServices");

                    b.Navigation("LaboratoryReviews");

                    b.Navigation("VerificationDocuments");

                    b.Navigation("WorkingHours");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Identity.Pharmacy", b =>
                {
                    b.Navigation("Orders");

                    b.Navigation("PharmacyReviews");

                    b.Navigation("VerificationDocuments");

                    b.Navigation("WorkingHours");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Identity.Verifier", b =>
                {
                    b.Navigation("VerifiedDoctors");

                    b.Navigation("VerifiedLabors");

                    b.Navigation("VerifiedPharmacies");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Identity.Doctor", b =>
                {
                    b.Navigation("Appointments");

                    b.Navigation("Availabilities");

                    b.Navigation("Clinic");

                    b.Navigation("Consultations");

                    b.Navigation("DoctorReviews");

                    b.Navigation("LabPrescriptions");

                    b.Navigation("Overrides");

                    b.Navigation("PartnerSuggestion");

                    b.Navigation("Prescriptions");

                    b.Navigation("VerificationDocuments");
                });

            modelBuilder.Entity("Shuryan.Core.Entities.Identity.Patient", b =>
                {
                    b.Navigation("Appointments");

                    b.Navigation("DoctorReviews");

                    b.Navigation("LabOrders");

                    b.Navigation("LaboratoryReviews");

                    b.Navigation("MedicalHistory");

                    b.Navigation("PharmacyOrders");

                    b.Navigation("PharmacyReviews");

                    b.Navigation("Prescriptions");
                });
#pragma warning restore 612, 618
        }
    }
}
